<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://activiti.org/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="_7FrToMrfEeOyYYI9xhG4Cw" exporter="camunda modeler" exporterVersion="2.5.0" targetNamespace="http://activiti.org/bpmn">
  <bpmn2:process id="testProcess" isExecutable="true">
    <bpmn2:startEvent id="start">
      <bpmn2:outgoing>SequenceFlow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:serviceTask id="save" camunda:delegateExpression="#{save}" name="save">
      <bpmn2:incoming>SequenceFlow_1</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_1" name="" sourceRef="start" targetRef="save"/>
    <bpmn2:endEvent id="endFinished">
      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_3" name="" sourceRef="save" targetRef="shouldRollback"/>
    <bpmn2:exclusiveGateway id="shouldRollback" name="should rollback?&#xA;">
      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>
      <bpmn2:outgoing>SequenceFlow_9</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:sequenceFlow id="SequenceFlow_5" name="no" sourceRef="shouldRollback" targetRef="endFinished">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression">#{false}</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:boundaryEvent id="BoundaryEvent_1" name="" attachedToRef="save">
      <bpmn2:compensateEventDefinition id="CompensateEventDefinition_2" waitForCompletion="true"/>
    </bpmn2:boundaryEvent>
    <bpmn2:serviceTask id="rollback" camunda:delegateExpression="#{rollback}" name="rollback" isForCompensation="true"/>
    <bpmn2:sequenceFlow id="SequenceFlow_9" name="" sourceRef="shouldRollback" targetRef="IntermediateThrowEvent_2">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression">#{true}</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:intermediateThrowEvent id="IntermediateThrowEvent_2">
      <bpmn2:incoming>SequenceFlow_9</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>
      <bpmn2:compensateEventDefinition id="CompensateEventDefinition_5" waitForCompletion="true"/>
    </bpmn2:intermediateThrowEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_10" name="" sourceRef="IntermediateThrowEvent_2" targetRef="endRollback"/>
    <bpmn2:endEvent id="endRollback">
      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:association id="Association_1" sourceRef="BoundaryEvent_1" targetRef="rollback"/>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="testProcess">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_3" bpmnElement="start">
        <dc:Bounds height="36.0" width="36.0" x="247.0" y="204.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_UserTask_2" bpmnElement="save">
        <dc:Bounds height="80.0" width="100.0" x="333.0" y="182.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_1" bpmnElement="SequenceFlow_1" sourceElement="_BPMNShape_StartEvent_3" targetElement="_BPMNShape_UserTask_2">
        <di:waypoint xsi:type="dc:Point" x="283.0" y="222.0"/>
        <di:waypoint xsi:type="dc:Point" x="333.0" y="222.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_2" bpmnElement="endFinished">
        <dc:Bounds height="36.0" width="36.0" x="684.0" y="204.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="702.0" y="245.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_2" bpmnElement="shouldRollback" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="528.0" y="196.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="553.0" y="251.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_3" bpmnElement="SequenceFlow_3" sourceElement="_BPMNShape_UserTask_2" targetElement="_BPMNShape_ExclusiveGateway_2">
        <di:waypoint xsi:type="dc:Point" x="433.0" y="222.0"/>
        <di:waypoint xsi:type="dc:Point" x="528.0" y="221.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="455.0" y="222.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_5" bpmnElement="SequenceFlow_5" sourceElement="_BPMNShape_ExclusiveGateway_2" targetElement="_BPMNShape_EndEvent_2">
        <di:waypoint xsi:type="dc:Point" x="578.0" y="221.0"/>
        <di:waypoint xsi:type="dc:Point" x="631.0" y="221.0"/>
        <di:waypoint xsi:type="dc:Point" x="631.0" y="222.0"/>
        <di:waypoint xsi:type="dc:Point" x="684.0" y="222.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_BoundaryEvent_2" bpmnElement="BoundaryEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="415.0" y="244.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ServiceTask_7" bpmnElement="rollback">
        <dc:Bounds height="80.0" width="100.0" x="501.0" y="322.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_Association_1" bpmnElement="Association_1" sourceElement="_BPMNShape_BoundaryEvent_2" targetElement="_BPMNShape_ServiceTask_7">
        <di:waypoint xsi:type="dc:Point" x="451.0" y="277.0"/>
        <di:waypoint xsi:type="dc:Point" x="504.0" y="322.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_IntermediateThrowEvent_3" bpmnElement="IntermediateThrowEvent_2">
        <dc:Bounds height="36.0" width="36.0" x="533.0" y="108.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="551.0" y="149.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_9" bpmnElement="SequenceFlow_9" sourceElement="_BPMNShape_ExclusiveGateway_2" targetElement="_BPMNShape_IntermediateThrowEvent_3">
        <di:waypoint xsi:type="dc:Point" x="553.0" y="196.0"/>
        <di:waypoint xsi:type="dc:Point" x="553.0" y="170.0"/>
        <di:waypoint xsi:type="dc:Point" x="551.0" y="170.0"/>
        <di:waypoint xsi:type="dc:Point" x="551.0" y="144.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="549.0" y="170.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_8" bpmnElement="endRollback">
        <dc:Bounds height="36.0" width="36.0" x="533.0" y="36.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="551.0" y="77.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_10" bpmnElement="SequenceFlow_10" sourceElement="_BPMNShape_IntermediateThrowEvent_3" targetElement="_BPMNShape_EndEvent_8">
        <di:waypoint xsi:type="dc:Point" x="551.0" y="108.0"/>
        <di:waypoint xsi:type="dc:Point" x="551.0" y="72.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="548.0" y="83.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>